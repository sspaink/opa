{
	"cases": [
		{
			"note": "graphql_parse_query/failure-unclosed paren",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\np if {\n\tgraphql.parse_query(`{`)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Expected Name, found \u003cEOF\u003e in GraphQL string at location 1:2",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "string_index",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 2,
												"row": 4
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 4
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 4
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/failure-missing on in fragment",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `\n  { ...MissingOn }\n  fragment MissingOn Type\n`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Expected \"on\", found Name \"Type\" in GraphQL string at location 3:22",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "\n  { ...MissingOn }\n  fragment MissingOn Type\n"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 9
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 9
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 9
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 9
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 8
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 8
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 8
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/failure-missing name after alias",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `{ field: {} }`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Expected Name, found { in GraphQL string at location 1:10",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{ field: {} }"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/failure-not an operation",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `notanoperation Foo { field }`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Unexpected Name \"notanoperation\" in GraphQL string at location 1:1",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "notanoperation Foo { field }"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/failure-a wild splat appears",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `...`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Unexpected ... in GraphQL string at location 1:1",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "..."
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/success-variables are allowed in args",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `{ field(complex: { a: { b: [ $var ] } }) }`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"field\", \"Arguments\": [{\"Name\": \"complex\", \"Value\": {\"Children\": [{\"Name\": \"a\", \"Value\": {\"Children\": [{\"Name\": \"b\", \"Value\": {\"Children\": [{\"Name\": \"\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"var\"}}], \"ExpectedTypeHasDefault\": false, \"Kind\": 8, \"Raw\": \"\"}}], \"ExpectedTypeHasDefault\": false, \"Kind\": 9, \"Raw\": \"\"}}], \"ExpectedTypeHasDefault\": false, \"Kind\": 9, \"Raw\": \"\"}}], \"Name\": \"field\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{ field(complex: { a: { b: [ $var ] } }) }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "field"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "complex"
						},
						{
							"value": "Value"
						},
						{
							"value": "Children"
						},
						{
							"value": "a"
						},
						{
							"value": "b"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "0"
						},
						{
							"value": "Raw"
						},
						{
							"value": "var"
						},
						{
							"value": "8"
						},
						{
							"value": "9"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 14
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 15
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 18,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 19,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 19,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 20,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 18,
												"target": 21,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "local",
													"value": 21
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 19
												},
												"value": {
													"type": "string_index",
													"value": 20
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 20
												},
												"object": 19,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 19
												},
												"array": 18,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "local",
													"value": 18
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 21,
												"target": 22,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "local",
													"value": 22
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 19
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 17
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 16
												},
												"array": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 22,
												"target": 23,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "local",
													"value": 23
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 19
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 14
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 13
												},
												"array": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 22,
												"target": 24,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "local",
													"value": 24
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 19
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/failure-variables are not allowed in default args",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `query Foo($x: Complex = { a: { b: [ $var ] } }) { field }`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Unexpected $ in GraphQL string at location 1:37",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "query Foo($x: Complex = { a: { b: [ $var ] } }) { field }"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/success-variables can have directives",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `query ($withDirective: String @first @second, $withoutDirective: String) { f }`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"f\", \"Name\": \"f\"}], \"VariableDefinitions\": [{\"Directives\": [{\"Location\": \"\", \"Name\": \"first\"}, {\"Location\": \"\", \"Name\": \"second\"}], \"Type\": {\"NamedType\": \"String\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"withDirective\"}, {\"Type\": {\"NamedType\": \"String\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"withoutDirective\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "query ($withDirective: String @first @second, $withoutDirective: String) { f }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "f"
						},
						{
							"value": "VariableDefinitions"
						},
						{
							"value": "Directives"
						},
						{
							"value": "Location"
						},
						{
							"value": "first"
						},
						{
							"value": "second"
						},
						{
							"value": "Type"
						},
						{
							"value": "NamedType"
						},
						{
							"value": "String"
						},
						{
							"value": "NonNull"
						},
						{
							"value": "Used"
						},
						{
							"value": "Variable"
						},
						{
							"value": "withDirective"
						},
						{
							"value": "withoutDirective"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 13
												},
												"object": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 12
												},
												"array": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 14
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 13
												},
												"array": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 18
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "local",
													"value": 14
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 19
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 20
												},
												"value": {
													"type": "string_index",
													"value": 21
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 18
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "local",
													"value": 16
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 19
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 20
												},
												"value": {
													"type": "string_index",
													"value": 22
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 15
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/failure-fragment can not be named 'on'",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `fragment on on on { on }`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Unexpected Name \"on\" in GraphQL string at location 1:10",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "fragment on on on { on }"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/failure-fragment can not spread fragments called 'on'",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `{ ...on }`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Expected Name, found } in GraphQL string at location 1:9",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{ ...on }"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/success-encoding multibyte characters are supported",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `\n  # This comment has a  multi-byte character.\n  { field(arg: \"Has a  multi-byte character.\") }\n`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"field\", \"Arguments\": [{\"Name\": \"arg\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 3, \"Raw\": \"Has a  multi-byte character.\"}}], \"Name\": \"field\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "\n  # This comment has a  multi-byte character.\n  { field(arg: \"Has a  multi-byte character.\") }\n"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "field"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "arg"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "3"
						},
						{
							"value": "Raw"
						},
						{
							"value": "Has a  multi-byte character."
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 15,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 8
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 8
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 8
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 10
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 11
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 11
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 11
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 11
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 11
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 11
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 10
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 10
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 10
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 10
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-keywords-allowed-where-names-are on",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `\n  query on {\n    ... a\n    ... on on { field }\n  }\n  fragment a on Type {\n    on(on: $on)\n      @on(on: on)\n  }\n`\n\nast := {\"Fragments\": [{\"Name\": \"a\", \"SelectionSet\": [{\"Alias\": \"on\", \"Arguments\": [{\"Name\": \"on\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"on\"}}], \"Directives\": [{\"Arguments\": [{\"Name\": \"on\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 7, \"Raw\": \"on\"}}], \"Location\": \"\", \"Name\": \"on\"}], \"Name\": \"on\"}], \"TypeCondition\": \"Type\"}], \"Operations\": [{\"Name\": \"on\", \"Operation\": \"query\", \"SelectionSet\": [{\"Name\": \"a\"}, {\"SelectionSet\": [{\"Alias\": \"field\", \"Name\": \"field\"}], \"TypeCondition\": \"on\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "\n  query on {\n    ... a\n    ... on on { field }\n  }\n  fragment a on Type {\n    on(on: $on)\n      @on(on: on)\n  }\n"
						},
						{
							"value": "Fragments"
						},
						{
							"value": "Name"
						},
						{
							"value": "a"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "on"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "0"
						},
						{
							"value": "Raw"
						},
						{
							"value": "Directives"
						},
						{
							"value": "7"
						},
						{
							"value": "Location"
						},
						{
							"value": ""
						},
						{
							"value": "TypeCondition"
						},
						{
							"value": "Type"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "field"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 12,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 9
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 15,
												"target": 18,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "local",
													"value": 18
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 9
												},
												"value": {
													"type": "local",
													"value": 17
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 16
												},
												"array": 15,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 14
												},
												"array": 13,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "local",
													"value": 13
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 18
												},
												"value": {
													"type": "string_index",
													"value": 19
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 19,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 21
												},
												"value": {
													"type": "string_index",
													"value": 22
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 22,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 22,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 22
												},
												"array": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 24,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 23
												},
												"object": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 23
												},
												"object": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 25
												},
												"array": 24,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 24
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 18
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 23
												},
												"array": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 21
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 20
												},
												"array": 19,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 20
												},
												"value": {
													"type": "local",
													"value": 19
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 17
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 17
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-keywords-allowed-where-names-are subscription",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `\n  query subscription {\n    ... subscription\n    ... on subscription { field }\n  }\n  fragment subscription on Type {\n    subscription(subscription: $subscription)\n      @subscription(subscription: subscription)\n  }\n`\n\nast := {\"Fragments\": [{\"Name\": \"subscription\", \"SelectionSet\": [{\"Alias\": \"subscription\", \"Arguments\": [{\"Name\": \"subscription\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"subscription\"}}], \"Directives\": [{\"Arguments\": [{\"Name\": \"subscription\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 7, \"Raw\": \"subscription\"}}], \"Location\": \"\", \"Name\": \"subscription\"}], \"Name\": \"subscription\"}], \"TypeCondition\": \"Type\"}], \"Operations\": [{\"Name\": \"subscription\", \"Operation\": \"query\", \"SelectionSet\": [{\"Name\": \"subscription\"}, {\"SelectionSet\": [{\"Alias\": \"field\", \"Name\": \"field\"}], \"TypeCondition\": \"subscription\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "\n  query subscription {\n    ... subscription\n    ... on subscription { field }\n  }\n  fragment subscription on Type {\n    subscription(subscription: $subscription)\n      @subscription(subscription: subscription)\n  }\n"
						},
						{
							"value": "Fragments"
						},
						{
							"value": "Name"
						},
						{
							"value": "subscription"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "0"
						},
						{
							"value": "Raw"
						},
						{
							"value": "Directives"
						},
						{
							"value": "7"
						},
						{
							"value": "Location"
						},
						{
							"value": ""
						},
						{
							"value": "TypeCondition"
						},
						{
							"value": "Type"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "field"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 9
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 11,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 9
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 14,
												"target": 18,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 18
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 17
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 16
												},
												"array": 15,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "string_index",
													"value": 16
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 14
												},
												"array": 13,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "local",
													"value": 13
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "string_index",
													"value": 18
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 19,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 20
												},
												"value": {
													"type": "string_index",
													"value": 21
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 22,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 22,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 22
												},
												"array": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 24,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 22
												},
												"object": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 22
												},
												"object": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 25
												},
												"array": 24,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 24
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 23
												},
												"array": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 21
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 20
												},
												"array": 19,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 19
												},
												"value": {
													"type": "local",
													"value": 19
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 17
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 17
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-keywords-allowed-where-names-are true",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `\n  query true {\n    ... true\n    ... on true { field }\n  }\n  fragment true on Type {\n    true(true: $true)\n      @true(true: true)\n  }\n`\n\nast := {\"Fragments\": [{\"Name\": \"true\", \"SelectionSet\": [{\"Alias\": \"true\", \"Arguments\": [{\"Name\": \"true\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"true\"}}], \"Directives\": [{\"Arguments\": [{\"Name\": \"true\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 5, \"Raw\": \"true\"}}], \"Location\": \"\", \"Name\": \"true\"}], \"Name\": \"true\"}], \"TypeCondition\": \"Type\"}], \"Operations\": [{\"Name\": \"true\", \"Operation\": \"query\", \"SelectionSet\": [{\"Name\": \"true\"}, {\"SelectionSet\": [{\"Alias\": \"field\", \"Name\": \"field\"}], \"TypeCondition\": \"true\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "\n  query true {\n    ... true\n    ... on true { field }\n  }\n  fragment true on Type {\n    true(true: $true)\n      @true(true: true)\n  }\n"
						},
						{
							"value": "Fragments"
						},
						{
							"value": "Name"
						},
						{
							"value": "true"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "0"
						},
						{
							"value": "Raw"
						},
						{
							"value": "Directives"
						},
						{
							"value": "5"
						},
						{
							"value": "Location"
						},
						{
							"value": ""
						},
						{
							"value": "TypeCondition"
						},
						{
							"value": "Type"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "field"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 9
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 11,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 9
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 14,
												"target": 18,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 18
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 17
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 16
												},
												"array": 15,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "string_index",
													"value": 16
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 14
												},
												"array": 13,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "local",
													"value": 13
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "string_index",
													"value": 18
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 19,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 20
												},
												"value": {
													"type": "string_index",
													"value": 21
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 22,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 22,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 22
												},
												"array": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 24,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 22
												},
												"object": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 22
												},
												"object": 25,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 25
												},
												"array": 24,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 24
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 23
												},
												"array": 21,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 21
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 20
												},
												"array": 19,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 19
												},
												"value": {
													"type": "local",
													"value": 19
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 17
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 17
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 17
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 16
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 16
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-operations anonymous mutation",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `mutation { mutationField }`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"mutation\", \"SelectionSet\": [{\"Alias\": \"mutationField\", \"Name\": \"mutationField\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "mutation { mutationField }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "mutation"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "mutationField"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-operations named mutation",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `mutation Foo { mutationField }`\n\nast := {\"Operations\": [{\"Name\": \"Foo\", \"Operation\": \"mutation\", \"SelectionSet\": [{\"Alias\": \"mutationField\", \"Name\": \"mutationField\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "mutation Foo { mutationField }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": "Foo"
						},
						{
							"value": "Operation"
						},
						{
							"value": "mutation"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "mutationField"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-operations anonymous subscription",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `subscription { subscriptionField }`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"subscription\", \"SelectionSet\": [{\"Alias\": \"subscriptionField\", \"Name\": \"subscriptionField\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "subscription { subscriptionField }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "subscription"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "subscriptionField"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-operations named subscription",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `subscription Foo { subscriptionField }`\n\nast := {\"Operations\": [{\"Name\": \"Foo\", \"Operation\": \"subscription\", \"SelectionSet\": [{\"Alias\": \"subscriptionField\", \"Name\": \"subscriptionField\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "subscription Foo { subscriptionField }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": "Foo"
						},
						{
							"value": "Operation"
						},
						{
							"value": "subscription"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "subscriptionField"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-ast simple query",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `\n  {\n    node(id: 4) {\n      id,\n      name\n    }\n  }\n`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"node\", \"Arguments\": [{\"Name\": \"id\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 1, \"Raw\": \"4\"}}], \"Name\": \"node\", \"SelectionSet\": [{\"Alias\": \"id\", \"Name\": \"id\"}, {\"Alias\": \"name\", \"Name\": \"name\"}]}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "\n  {\n    node(id: 4) {\n      id,\n      name\n    }\n  }\n"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "node"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "id"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "1"
						},
						{
							"value": "Raw"
						},
						{
							"value": "4"
						},
						{
							"value": "name"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 15,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 14
												},
												"array": 13,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 18
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 18
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 15
												},
												"array": 13,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 13
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 12
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 12
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 12
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 12
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 15
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 15
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 15
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 15
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 15
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 15
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 14
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 14
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-ast nameless query with no variables",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `\n  query {\n    node {\n      id\n    }\n  }\n`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"node\", \"Name\": \"node\", \"SelectionSet\": [{\"Alias\": \"id\", \"Name\": \"id\"}]}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "\n  query {\n    node {\n      id\n    }\n  }\n"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "node"
						},
						{
							"value": "id"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 10
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 10
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 11
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 11
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 11
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 11
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 13
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 14
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 14
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 14
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 14
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 14
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 14
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 13
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 13
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 13
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 13
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-ast fragment defined variables",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `fragment a($v: Boolean = false) on t { f(v: $v) }`\n\nast := {\"Fragments\": [{\"Name\": \"a\", \"SelectionSet\": [{\"Alias\": \"f\", \"Arguments\": [{\"Name\": \"v\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"v\"}}], \"Name\": \"f\"}], \"TypeCondition\": \"t\", \"VariableDefinition\": [{\"DefaultValue\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 5, \"Raw\": \"false\"}, \"Type\": {\"NamedType\": \"Boolean\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"v\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "fragment a($v: Boolean = false) on t { f(v: $v) }"
						},
						{
							"value": "Fragments"
						},
						{
							"value": "Name"
						},
						{
							"value": "a"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "f"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "v"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "0"
						},
						{
							"value": "Raw"
						},
						{
							"value": "TypeCondition"
						},
						{
							"value": "t"
						},
						{
							"value": "VariableDefinition"
						},
						{
							"value": "DefaultValue"
						},
						{
							"value": "5"
						},
						{
							"value": "false"
						},
						{
							"value": "Type"
						},
						{
							"value": "NamedType"
						},
						{
							"value": "Boolean"
						},
						{
							"value": "NonNull"
						},
						{
							"value": "Used"
						},
						{
							"value": "Variable"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 13,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "string_index",
													"value": 16
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 19,
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 16
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 20
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 18
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 22
												},
												"value": {
													"type": "string_index",
													"value": 23
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 24
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 21
												},
												"value": {
													"type": "local",
													"value": 17
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 25
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 26
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 14
												},
												"array": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "local",
													"value": 13
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-values null",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `{ f(id: null) }`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"f\", \"Arguments\": [{\"Name\": \"id\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 6, \"Raw\": \"null\"}}], \"Name\": \"f\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{ f(id: null) }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "f"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "id"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "6"
						},
						{
							"value": "Raw"
						},
						{
							"value": "null"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 15,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-values strings",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `{ f(long: \"\"\"long\"\"\", short: \"short\") }`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"f\", \"Arguments\": [{\"Name\": \"long\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 4, \"Raw\": \"long\"}}, {\"Name\": \"short\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 3, \"Raw\": \"short\"}}], \"Name\": \"f\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{ f(long: \"\"\"long\"\"\", short: \"short\") }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "f"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "long"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "4"
						},
						{
							"value": "Raw"
						},
						{
							"value": "short"
						},
						{
							"value": "3"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 15,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 18,
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 14
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 13
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-values list",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `{ f(id: [1,2]) }`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"f\", \"Arguments\": [{\"Name\": \"id\", \"Value\": {\"Children\": [{\"Name\": \"\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 1, \"Raw\": \"1\"}}, {\"Name\": \"\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 1, \"Raw\": \"2\"}}], \"ExpectedTypeHasDefault\": false, \"Kind\": 8, \"Raw\": \"\"}}], \"Name\": \"f\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{ f(id: [1,2]) }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "f"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "id"
						},
						{
							"value": "Value"
						},
						{
							"value": "Children"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "1"
						},
						{
							"value": "Raw"
						},
						{
							"value": "2"
						},
						{
							"value": "8"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 16,
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "string_index",
													"value": 16
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 14
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 13
												},
												"array": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 16,
												"target": 18,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "local",
													"value": 18
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "string_index",
													"value": 18
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 17
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 16
												},
												"array": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 13
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 19,
												"target": 19,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "local",
													"value": 19
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 17
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-types common types",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `query ($string: String, $int: Int, $arr: [Arr], $notnull: [Arr!]!) { f }`\n\nast := {\"Operations\": [{\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"f\", \"Name\": \"f\"}], \"VariableDefinitions\": [{\"Type\": {\"NamedType\": \"String\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"string\"}, {\"Type\": {\"NamedType\": \"Int\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"int\"}, {\"Type\": {\"Elem\": {\"NamedType\": \"Arr\", \"NonNull\": false}, \"NamedType\": \"\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"arr\"}, {\"Type\": {\"Elem\": {\"NamedType\": \"Arr\", \"NonNull\": true}, \"NamedType\": \"\", \"NonNull\": true}, \"Used\": false, \"Variable\": \"notnull\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "query ($string: String, $int: Int, $arr: [Arr], $notnull: [Arr!]!) { f }"
						},
						{
							"value": "Operations"
						},
						{
							"value": "Name"
						},
						{
							"value": ""
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "f"
						},
						{
							"value": "VariableDefinitions"
						},
						{
							"value": "Type"
						},
						{
							"value": "NamedType"
						},
						{
							"value": "String"
						},
						{
							"value": "NonNull"
						},
						{
							"value": "Used"
						},
						{
							"value": "Variable"
						},
						{
							"value": "string"
						},
						{
							"value": "Int"
						},
						{
							"value": "int"
						},
						{
							"value": "Elem"
						},
						{
							"value": "Arr"
						},
						{
							"value": "arr"
						},
						{
							"value": "notnull"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "string_index",
													"value": 6
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 7
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 4,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 13
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 18
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "local",
													"value": 13
												},
												"object": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 19
												},
												"object": 12,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 12
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 21
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 20
												},
												"value": {
													"type": "local",
													"value": 16
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 15,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 22
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 14
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 18,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 19,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 21
												},
												"object": 19,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": true
												},
												"object": 19,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 20
												},
												"value": {
													"type": "local",
													"value": 19
												},
												"object": 18,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 18,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "bool",
													"value": true
												},
												"object": 18,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "local",
													"value": 18
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 15
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 16
												},
												"value": {
													"type": "string_index",
													"value": 23
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 17
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 8
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/success-large-queries kitchen sink",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\n# Copyright (c) 2015-present, Facebook, Inc.\n#\n# This source code is licensed under the MIT license found in the\n# LICENSE file in the root directory of this source tree.\ngql := `\n  query queryName($foo: ComplexType, $site: Site = MOBILE) {\n    whoever123is: node(id: [123, 456]) {\n      id ,\n      ... on User @defer {\n        field2 {\n          id ,\n          alias: field1(first:10, after:$foo,) @include(if: $foo) {\n            id,\n            ...frag\n          }\n        }\n      }\n      ... @skip(unless: $foo) {\n        id\n      }\n      ... {\n        id\n      }\n    }\n  }\n  mutation likeStory {\n    like(story: 123) @defer {\n      story {\n        id\n      }\n    }\n  }\n  subscription StoryLikeSubscription($input: StoryLikeSubscribeInput) {\n    storyLikeSubscribe(input: $input) {\n      story {\n        likers {\n          count\n        }\n        likeSentence {\n          text\n        }\n      }\n    }\n  }\n  fragment frag on Friend {\n    foo(size: $size, bar: $b, obj: {key: \"value\", block: \"\"\"\n        block string uses \\\"\"\"\n    \"\"\"})\n  }\n  {\n    unnamed(truthy: true, falsey: false, nullish: null),\n    query\n  }\n`\n\nast := {\"Fragments\": [{\"Name\": \"frag\", \"SelectionSet\": [{\"Alias\": \"foo\", \"Arguments\": [{\"Name\": \"size\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"size\"}}, {\"Name\": \"bar\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"b\"}}, {\"Name\": \"obj\", \"Value\": {\"Children\": [{\"Name\": \"key\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 3, \"Raw\": \"value\"}}, {\"Name\": \"block\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 4, \"Raw\": \"block string uses \\\"\\\"\\\"\"}}], \"ExpectedTypeHasDefault\": false, \"Kind\": 9, \"Raw\": \"\"}}], \"Name\": \"foo\"}], \"TypeCondition\": \"Friend\"}], \"Operations\": [{\"Name\": \"queryName\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"whoever123is\", \"Arguments\": [{\"Name\": \"id\", \"Value\": {\"Children\": [{\"Name\": \"\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 1, \"Raw\": \"123\"}}, {\"Name\": \"\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 1, \"Raw\": \"456\"}}], \"ExpectedTypeHasDefault\": false, \"Kind\": 8, \"Raw\": \"\"}}], \"Name\": \"node\", \"SelectionSet\": [{\"Alias\": \"id\", \"Name\": \"id\"}, {\"Directives\": [{\"Location\": \"\", \"Name\": \"defer\"}], \"SelectionSet\": [{\"Alias\": \"field2\", \"Name\": \"field2\", \"SelectionSet\": [{\"Alias\": \"id\", \"Name\": \"id\"}, {\"Alias\": \"alias\", \"Arguments\": [{\"Name\": \"first\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 1, \"Raw\": \"10\"}}, {\"Name\": \"after\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"foo\"}}], \"Directives\": [{\"Arguments\": [{\"Name\": \"if\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"foo\"}}], \"Location\": \"\", \"Name\": \"include\"}], \"Name\": \"field1\", \"SelectionSet\": [{\"Alias\": \"id\", \"Name\": \"id\"}, {\"Name\": \"frag\"}]}]}], \"TypeCondition\": \"User\"}, {\"Directives\": [{\"Arguments\": [{\"Name\": \"unless\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"foo\"}}], \"Location\": \"\", \"Name\": \"skip\"}], \"SelectionSet\": [{\"Alias\": \"id\", \"Name\": \"id\"}], \"TypeCondition\": \"\"}, {\"SelectionSet\": [{\"Alias\": \"id\", \"Name\": \"id\"}], \"TypeCondition\": \"\"}]}], \"VariableDefinitions\": [{\"Type\": {\"NamedType\": \"ComplexType\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"foo\"}, {\"DefaultValue\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 7, \"Raw\": \"MOBILE\"}, \"Type\": {\"NamedType\": \"Site\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"site\"}]}, {\"Name\": \"likeStory\", \"Operation\": \"mutation\", \"SelectionSet\": [{\"Alias\": \"like\", \"Arguments\": [{\"Name\": \"story\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 1, \"Raw\": \"123\"}}], \"Directives\": [{\"Location\": \"\", \"Name\": \"defer\"}], \"Name\": \"like\", \"SelectionSet\": [{\"Alias\": \"story\", \"Name\": \"story\", \"SelectionSet\": [{\"Alias\": \"id\", \"Name\": \"id\"}]}]}]}, {\"Name\": \"StoryLikeSubscription\", \"Operation\": \"subscription\", \"SelectionSet\": [{\"Alias\": \"storyLikeSubscribe\", \"Arguments\": [{\"Name\": \"input\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 0, \"Raw\": \"input\"}}], \"Name\": \"storyLikeSubscribe\", \"SelectionSet\": [{\"Alias\": \"story\", \"Name\": \"story\", \"SelectionSet\": [{\"Alias\": \"likers\", \"Name\": \"likers\", \"SelectionSet\": [{\"Alias\": \"count\", \"Name\": \"count\"}]}, {\"Alias\": \"likeSentence\", \"Name\": \"likeSentence\", \"SelectionSet\": [{\"Alias\": \"text\", \"Name\": \"text\"}]}]}]}], \"VariableDefinitions\": [{\"Type\": {\"NamedType\": \"StoryLikeSubscribeInput\", \"NonNull\": false}, \"Used\": false, \"Variable\": \"input\"}]}, {\"Name\": \"\", \"Operation\": \"query\", \"SelectionSet\": [{\"Alias\": \"unnamed\", \"Arguments\": [{\"Name\": \"truthy\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 5, \"Raw\": \"true\"}}, {\"Name\": \"falsey\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 5, \"Raw\": \"false\"}}, {\"Name\": \"nullish\", \"Value\": {\"ExpectedTypeHasDefault\": false, \"Kind\": 6, \"Raw\": \"null\"}}], \"Name\": \"unnamed\"}, {\"Alias\": \"query\", \"Name\": \"query\"}]}]}\n\np if {\n\tgraphql.parse_query(gql) == ast\n}\n"
			],
			"want_result": [
				{
					"x": true
				}
			],
			"ignore_generated_vars": false,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "\n  query queryName($foo: ComplexType, $site: Site = MOBILE) {\n    whoever123is: node(id: [123, 456]) {\n      id ,\n      ... on User @defer {\n        field2 {\n          id ,\n          alias: field1(first:10, after:$foo,) @include(if: $foo) {\n            id,\n            ...frag\n          }\n        }\n      }\n      ... @skip(unless: $foo) {\n        id\n      }\n      ... {\n        id\n      }\n    }\n  }\n  mutation likeStory {\n    like(story: 123) @defer {\n      story {\n        id\n      }\n    }\n  }\n  subscription StoryLikeSubscription($input: StoryLikeSubscribeInput) {\n    storyLikeSubscribe(input: $input) {\n      story {\n        likers {\n          count\n        }\n        likeSentence {\n          text\n        }\n      }\n    }\n  }\n  fragment frag on Friend {\n    foo(size: $size, bar: $b, obj: {key: \"value\", block: \"\"\"\n        block string uses \\\"\"\"\n    \"\"\"})\n  }\n  {\n    unnamed(truthy: true, falsey: false, nullish: null),\n    query\n  }\n"
						},
						{
							"value": "Fragments"
						},
						{
							"value": "Name"
						},
						{
							"value": "frag"
						},
						{
							"value": "SelectionSet"
						},
						{
							"value": "Alias"
						},
						{
							"value": "foo"
						},
						{
							"value": "Arguments"
						},
						{
							"value": "size"
						},
						{
							"value": "Value"
						},
						{
							"value": "ExpectedTypeHasDefault"
						},
						{
							"value": "Kind"
						},
						{
							"value": "0"
						},
						{
							"value": "Raw"
						},
						{
							"value": "bar"
						},
						{
							"value": "b"
						},
						{
							"value": "obj"
						},
						{
							"value": "Children"
						},
						{
							"value": "key"
						},
						{
							"value": "3"
						},
						{
							"value": "value"
						},
						{
							"value": "block"
						},
						{
							"value": "4"
						},
						{
							"value": "block string uses \"\"\""
						},
						{
							"value": "9"
						},
						{
							"value": ""
						},
						{
							"value": "TypeCondition"
						},
						{
							"value": "Friend"
						},
						{
							"value": "Operations"
						},
						{
							"value": "queryName"
						},
						{
							"value": "Operation"
						},
						{
							"value": "query"
						},
						{
							"value": "whoever123is"
						},
						{
							"value": "id"
						},
						{
							"value": "1"
						},
						{
							"value": "123"
						},
						{
							"value": "456"
						},
						{
							"value": "8"
						},
						{
							"value": "node"
						},
						{
							"value": "Directives"
						},
						{
							"value": "Location"
						},
						{
							"value": "defer"
						},
						{
							"value": "field2"
						},
						{
							"value": "alias"
						},
						{
							"value": "first"
						},
						{
							"value": "10"
						},
						{
							"value": "after"
						},
						{
							"value": "if"
						},
						{
							"value": "include"
						},
						{
							"value": "field1"
						},
						{
							"value": "User"
						},
						{
							"value": "unless"
						},
						{
							"value": "skip"
						},
						{
							"value": "VariableDefinitions"
						},
						{
							"value": "Type"
						},
						{
							"value": "NamedType"
						},
						{
							"value": "ComplexType"
						},
						{
							"value": "NonNull"
						},
						{
							"value": "Used"
						},
						{
							"value": "Variable"
						},
						{
							"value": "DefaultValue"
						},
						{
							"value": "7"
						},
						{
							"value": "MOBILE"
						},
						{
							"value": "Site"
						},
						{
							"value": "site"
						},
						{
							"value": "likeStory"
						},
						{
							"value": "mutation"
						},
						{
							"value": "like"
						},
						{
							"value": "story"
						},
						{
							"value": "StoryLikeSubscription"
						},
						{
							"value": "subscription"
						},
						{
							"value": "storyLikeSubscribe"
						},
						{
							"value": "input"
						},
						{
							"value": "likers"
						},
						{
							"value": "count"
						},
						{
							"value": "likeSentence"
						},
						{
							"value": "text"
						},
						{
							"value": "StoryLikeSubscribeInput"
						},
						{
							"value": "unnamed"
						},
						{
							"value": "truthy"
						},
						{
							"value": "5"
						},
						{
							"value": "true"
						},
						{
							"value": "falsey"
						},
						{
							"value": "false"
						},
						{
							"value": "nullish"
						},
						{
							"value": "6"
						},
						{
							"value": "null"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 7
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 7
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.ast",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 5,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 6,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 7,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 8,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 3,
												"target": 9,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 10,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 11,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 13,
												"target": 12,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 12
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 9
												},
												"object": 11,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 11
												},
												"object": 10,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 10
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 13,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 15
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 14,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 13,
												"target": 15,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 15
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 16
												},
												"object": 14,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 14
												},
												"object": 13,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 13
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 16,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 17
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 17,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 18,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 19,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 19
												},
												"object": 19,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 20,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 20,
												"target": 21,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 21
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 21
												},
												"object": 20,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 20
												},
												"object": 19,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 19
												},
												"array": 18,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 22,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 22
												},
												"object": 22,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 23,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 23,
												"target": 24,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 24
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 24
												},
												"object": 23,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 23
												},
												"object": 22,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 22
												},
												"array": 18,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 18
												},
												"value": {
													"type": "local",
													"value": 18
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 25,
												"target": 25,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 25
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 17,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 17
												},
												"object": 16,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 16
												},
												"array": 9,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 9
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 8,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 8
												},
												"array": 7,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 7
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 27
												},
												"value": {
													"type": "string_index",
													"value": 28
												},
												"object": 6,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 6
												},
												"array": 5,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 2
												},
												"value": {
													"type": "local",
													"value": 5
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 4,
												"target": 26,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 27,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 30
												},
												"object": 27,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 31
												},
												"value": {
													"type": "string_index",
													"value": 32
												},
												"object": 27,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 28,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 29,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 33
												},
												"object": 29,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 30,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 31,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 31,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 32,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 33,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 34,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 34,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 35,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 35,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 35,
												"target": 36,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 36
												},
												"object": 35,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 36
												},
												"object": 35,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 35
												},
												"object": 34,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 34
												},
												"array": 33,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 37,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 37,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 38,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 38,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 35,
												"target": 39,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 39
												},
												"object": 38,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 37
												},
												"object": 38,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 38
												},
												"object": 37,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 37
												},
												"array": 33,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 18
												},
												"value": {
													"type": "local",
													"value": 33
												},
												"object": 32,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 32,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 38,
												"target": 40,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 40
												},
												"object": 32,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 32,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 32
												},
												"object": 31,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 31
												},
												"array": 30,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 30
												},
												"object": 29,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 39
												},
												"object": 29,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 4,
												"target": 41,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 42,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 42,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 42,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 42
												},
												"array": 41,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 43,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 44,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 45,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 41
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 45,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 42
												},
												"object": 45,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 45
												},
												"array": 44,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 40
												},
												"value": {
													"type": "local",
													"value": 44
												},
												"object": 43,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 46,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 47,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 43
												},
												"object": 47,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 43
												},
												"object": 47,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 48,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 49,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 49,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 49,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 49
												},
												"array": 48,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 50,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 44
												},
												"object": 50,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 51,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 52,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 45
												},
												"object": 52,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 53,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 53,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 35,
												"target": 54,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 54
												},
												"object": 53,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 46
												},
												"object": 53,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 53
												},
												"object": 52,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 52
												},
												"array": 51,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 55,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 47
												},
												"object": 55,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 56,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 56,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 13,
												"target": 57,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 57
												},
												"object": 56,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 56,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 56
												},
												"object": 55,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 55
												},
												"array": 51,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 51
												},
												"object": 50,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 58,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 59,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 60,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 61,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 48
												},
												"object": 61,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 62,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 62,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 13,
												"target": 63,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 63
												},
												"object": 62,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 62,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 62
												},
												"object": 61,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 61
												},
												"array": 60,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 60
												},
												"object": 59,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 41
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 59,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 49
												},
												"object": 59,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 59
												},
												"array": 58,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 40
												},
												"value": {
													"type": "local",
													"value": 58
												},
												"object": 50,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 50
												},
												"object": 50,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 64,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 65,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 65,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 65,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 65
												},
												"array": 64,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 66,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 4
												},
												"object": 66,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 66
												},
												"array": 64,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 64
												},
												"object": 50,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 50
												},
												"array": 48,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 48
												},
												"object": 47,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 47
												},
												"array": 46,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 46
												},
												"object": 43,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 27
												},
												"value": {
													"type": "string_index",
													"value": 51
												},
												"object": 43,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 43
												},
												"array": 41,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 67,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 68,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 69,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 70,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 71,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 52
												},
												"object": 71,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 72,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 72,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 13,
												"target": 73,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 73
												},
												"object": 72,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 72,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 72
												},
												"object": 71,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 71
												},
												"array": 70,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 70
												},
												"object": 69,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 41
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 69,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 53
												},
												"object": 69,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 69
												},
												"array": 68,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 40
												},
												"value": {
													"type": "local",
													"value": 68
												},
												"object": 67,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 74,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 75,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 75,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 75,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 75
												},
												"array": 74,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 74
												},
												"object": 67,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 27
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 67,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 67
												},
												"array": 41,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 76,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 77,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 78,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 78,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 78,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 78
												},
												"array": 77,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 77
												},
												"object": 76,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 27
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 76,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 76
												},
												"array": 41,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 41
												},
												"object": 29,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 29
												},
												"array": 28,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 28
												},
												"object": 27,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 79,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 80,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 81,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 56
												},
												"value": {
													"type": "string_index",
													"value": 57
												},
												"object": 81,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 58
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 81,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 55
												},
												"value": {
													"type": "local",
													"value": 81
												},
												"object": 80,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 59
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 80,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 60
												},
												"value": {
													"type": "string_index",
													"value": 7
												},
												"object": 80,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 80
												},
												"array": 79,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 82,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 83,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 83,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 62,
												"target": 84,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 84
												},
												"object": 83,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 63
												},
												"object": 83,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 61
												},
												"value": {
													"type": "local",
													"value": 83
												},
												"object": 82,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 85,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 56
												},
												"value": {
													"type": "string_index",
													"value": 64
												},
												"object": 85,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 58
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 85,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 55
												},
												"value": {
													"type": "local",
													"value": 85
												},
												"object": 82,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 59
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 82,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 60
												},
												"value": {
													"type": "string_index",
													"value": 65
												},
												"object": 82,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 82
												},
												"array": 79,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 54
												},
												"value": {
													"type": "local",
													"value": 79
												},
												"object": 27,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 27
												},
												"array": 26,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 86,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 66
												},
												"object": 86,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 31
												},
												"value": {
													"type": "string_index",
													"value": 67
												},
												"object": 86,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 87,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 88,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 68
												},
												"object": 88,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 89,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 90,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 69
												},
												"object": 90,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 91,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 91,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 35,
												"target": 92,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 92
												},
												"object": 91,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 36
												},
												"object": 91,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 91
												},
												"object": 90,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 90
												},
												"array": 89,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 89
												},
												"object": 88,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 93,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 94,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 41
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 94,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 42
												},
												"object": 94,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 94
												},
												"array": 93,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 40
												},
												"value": {
													"type": "local",
													"value": 93
												},
												"object": 88,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 68
												},
												"object": 88,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 95,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 96,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 69
												},
												"object": 96,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 69
												},
												"object": 96,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 97,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 98,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 98,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 34
												},
												"object": 98,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 98
												},
												"array": 97,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 97
												},
												"object": 96,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 96
												},
												"array": 95,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 95
												},
												"object": 88,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 88
												},
												"array": 87,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 87
												},
												"object": 86,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 86
												},
												"array": 26,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 99,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 70
												},
												"object": 99,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 31
												},
												"value": {
													"type": "string_index",
													"value": 71
												},
												"object": 99,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 100,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 101,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 72
												},
												"object": 101,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 102,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 103,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 73
												},
												"object": 103,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 104,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 104,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 13,
												"target": 105,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 105
												},
												"object": 104,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 73
												},
												"object": 104,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 104
												},
												"object": 103,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 103
												},
												"array": 102,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 102
												},
												"object": 101,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 72
												},
												"object": 101,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 106,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 107,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 69
												},
												"object": 107,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 69
												},
												"object": 107,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 108,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 109,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 74
												},
												"object": 109,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 74
												},
												"object": 109,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 110,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 111,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 75
												},
												"object": 111,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 75
												},
												"object": 111,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 111
												},
												"array": 110,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 110
												},
												"object": 109,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 109
												},
												"array": 108,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 112,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 76
												},
												"object": 112,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 76
												},
												"object": 112,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 113,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 114,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 77
												},
												"object": 114,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 77
												},
												"object": 114,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 114
												},
												"array": 113,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 113
												},
												"object": 112,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 112
												},
												"array": 108,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 108
												},
												"object": 107,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 107
												},
												"array": 106,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 106
												},
												"object": 101,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 101
												},
												"array": 100,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 100
												},
												"object": 99,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 1,
												"target": 115,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 116,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 117,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 56
												},
												"value": {
													"type": "string_index",
													"value": 78
												},
												"object": 117,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 58
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 117,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 55
												},
												"value": {
													"type": "local",
													"value": 117
												},
												"object": 116,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 59
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 116,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 60
												},
												"value": {
													"type": "string_index",
													"value": 73
												},
												"object": 116,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 116
												},
												"array": 115,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 54
												},
												"value": {
													"type": "local",
													"value": 115
												},
												"object": 99,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 99
												},
												"array": 26,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 118,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 26
												},
												"object": 118,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 31
												},
												"value": {
													"type": "string_index",
													"value": 32
												},
												"object": 118,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 2,
												"target": 119,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 120,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 79
												},
												"object": 120,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeArrayStmt",
											"stmt": {
												"capacity": 3,
												"target": 121,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 122,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 80
												},
												"object": 122,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 123,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 123,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 81,
												"target": 124,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 124
												},
												"object": 123,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 82
												},
												"object": 123,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 123
												},
												"object": 122,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 122
												},
												"array": 121,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 125,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 83
												},
												"object": 125,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 126,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 126,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 81,
												"target": 127,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 127
												},
												"object": 126,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 84
												},
												"object": 126,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 126
												},
												"object": 125,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 125
												},
												"array": 121,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 128,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 85
												},
												"object": 128,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 129,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 11
												},
												"value": {
													"type": "bool",
													"value": false
												},
												"object": 129,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeNumberRefStmt",
											"stmt": {
												"Index": 86,
												"target": 130,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 12
												},
												"value": {
													"type": "local",
													"value": 130
												},
												"object": 129,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 14
												},
												"value": {
													"type": "string_index",
													"value": 87
												},
												"object": 129,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 10
												},
												"value": {
													"type": "local",
													"value": 129
												},
												"object": 128,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 128
												},
												"array": 121,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 8
												},
												"value": {
													"type": "local",
													"value": 121
												},
												"object": 120,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 79
												},
												"object": 120,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 120
												},
												"array": 119,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 131,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 6
												},
												"value": {
													"type": "string_index",
													"value": 32
												},
												"object": 131,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 3
												},
												"value": {
													"type": "string_index",
													"value": 32
												},
												"object": 131,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 131
												},
												"array": 119,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 5
												},
												"value": {
													"type": "local",
													"value": 119
												},
												"object": 118,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ArrayAppendStmt",
											"stmt": {
												"value": {
													"type": "local",
													"value": 118
												},
												"array": 26,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 29
												},
												"value": {
													"type": "local",
													"value": 26
												},
												"object": 4,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 58
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 58
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 58
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 58
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"ast"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 60
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 61
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 61
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 61
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 6
												},
												"target": 7,
												"file": 0,
												"col": 2,
												"row": 61
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.ast",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 8,
												"file": 0,
												"col": 2,
												"row": 61
											}
										},
										{
											"type": "EqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 7
												},
												"b": {
													"type": "local",
													"value": 8
												},
												"file": 0,
												"col": 2,
												"row": 61
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 60
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 60
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 60
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 60
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": [
				{
					"x": true
				}
			]
		},
		{
			"note": "graphql_parse_query/failure-fuzzer 01",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `{__typename{...}}`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: Expected {, found } in GraphQL string at location 1:16",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{__typename{...}}"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		},
		{
			"note": "graphql_parse_query/failure-fuzzer 02",
			"query": "data.test.p = x",
			"modules": [
				"package test\n\ngql := `{...{__typename{...{}}}}`\n\np if {\n\tgraphql.parse_query(gql)\n}\n"
			],
			"want_error_code": "eval_builtin_error",
			"want_error": "graphql.parse_query: expected at least one definition, found } in GraphQL string at location 1:21",
			"ignore_generated_vars": false,
			"strict_error": true,
			"entrypoints": [
				"eval"
			],
			"plan": {
				"static": {
					"strings": [
						{
							"value": "x"
						},
						{
							"value": "{...{__typename{...{}}}}"
						}
					],
					"builtin_funcs": [
						{
							"name": "graphql.parse_query",
							"decl": {
								"args": [
									{
										"description": "GraphQL query string",
										"name": "query",
										"type": "string"
									}
								],
								"result": {
									"description": "AST object for the GraphQL query.",
									"dynamic": {
										"key": {
											"type": "any"
										},
										"value": {
											"type": "any"
										}
									},
									"name": "output",
									"type": "object"
								},
								"type": "function"
							}
						}
					],
					"files": [
						{
							"value": "module-0.rego"
						},
						{
							"value": "\u003cquery\u003e"
						}
					]
				},
				"plans": {
					"plans": [
						{
							"name": "eval",
							"blocks": [
								{
									"stmts": [
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.p",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 2,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 2
												},
												"target": 3,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "MakeObjectStmt",
											"stmt": {
												"target": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ObjectInsertStmt",
											"stmt": {
												"key": {
													"type": "string_index",
													"value": 0
												},
												"value": {
													"type": "local",
													"value": 3
												},
												"object": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										},
										{
											"type": "ResultSetAddStmt",
											"stmt": {
												"value": 4,
												"file": 1,
												"col": 1,
												"row": 1
											}
										}
									]
								}
							]
						}
					]
				},
				"funcs": {
					"funcs": [
						{
							"name": "g0.data.test.gql",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "string_index",
													"value": 1
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 3
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 3
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"gql"
							]
						},
						{
							"name": "g0.data.test.p",
							"params": [
								0,
								1
							],
							"return": 2,
							"blocks": [
								{
									"stmts": [
										{
											"type": "ResetLocalStmt",
											"stmt": {
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "g0.data.test.gql",
												"args": [
													{
														"type": "local",
														"value": 0
													},
													{
														"type": "local",
														"value": 1
													}
												],
												"result": 4,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "AssignVarStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 4
												},
												"target": 5,
												"file": 0,
												"col": 22,
												"row": 6
											}
										},
										{
											"type": "CallStmt",
											"stmt": {
												"func": "graphql.parse_query",
												"args": [
													{
														"type": "local",
														"value": 5
													}
												],
												"result": 6,
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "NotEqualStmt",
											"stmt": {
												"a": {
													"type": "local",
													"value": 6
												},
												"b": {
													"type": "bool",
													"value": false
												},
												"file": 0,
												"col": 2,
												"row": 6
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "bool",
													"value": true
												},
												"target": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "IsDefinedStmt",
											"stmt": {
												"source": 3,
												"file": 0,
												"col": 1,
												"row": 5
											}
										},
										{
											"type": "AssignVarOnceStmt",
											"stmt": {
												"source": {
													"type": "local",
													"value": 3
												},
												"target": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								},
								{
									"stmts": [
										{
											"type": "ReturnLocalStmt",
											"stmt": {
												"source": 2,
												"file": 0,
												"col": 1,
												"row": 5
											}
										}
									]
								}
							],
							"path": [
								"g0",
								"test",
								"p"
							]
						}
					]
				}
			},
			"want_plan_result": null
		}
	]
}